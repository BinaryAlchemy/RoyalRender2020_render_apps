#
# Author: Royal Render, Holger Schoenberger, Binary Alchemy
# %rrVersion%
#

# This render config executes a MEL script with Maya
# It uses the variable "CustomScript" for the name of the script file.
# Custom variables can be either set with the button in the rrSubmitter, top right,
# via an submission xml file, 
# via the rrSubmitter(console) commandline -CustomScript "//fileserver/share/myscriptfile.mel"
# or with an on-submission script.
# In this example the function in myscriptfile.mel is named ExecuteFunction and has three parameter ExecuteFunction(<CustomA>,<CustomB>,<CustomC>)
# Set the CustomA parameter via the rrSubmitter commandline   -CustomA "myvalue"
#
################################## Identify Render Application ################################## 
Name= Maya
rendererName= melOnce File
Version=2009

TYPEv9=3Drender
ExecuteJobType=Once


##################################   [Windows] [Linux] [Osx] ##################################


CommandLine= <envFileExecute <rrEnvFile>> 

CommandLine= <rrEnvLine>

CommandLine=
	<SetEnvGlobal>

CommandLine=
	<SetEnvSoft>

CommandLine=
	<ResetExitCode> 

CommandLine= 
	::win <Contains(<Exe>, mayaIO) "<Exe>" -batch ? "<Exe><ED>mayabatch.exe">
	::lx  <Contains(<Exe>, mayaIO) "<Exe>"  ?  "<Exe><ED>maya">  -batch
	::osx <Contains(<Exe>, mayaIO) "<Exe>"  ?  "<Exe><ED>maya">  -batch
	-file "<Scene>" 
	-command "<ESC source "<PD/<CustomScript>>"; ExecuteFunction(<CustomA>,<CustomB>,<CustomC>)>" 
	<AdditionalCommandlineParam>


CommandLine=
	<CheckExitCode> <FN>

CommandLine=	"<rrBin64>rrKillWait" 1 ADSSO -this -withoutParent
CommandLine=	"<rrBin64>rrKillWait" 1 ADSKLICENSINGAGENT -this -withoutParent
CommandLine=	"<rrBin64>rrKillWait" 1 ADPCLIENTSERVICE -this -withoutParent



################################## Render Settings ################################## 


################################## Submitter Settings ################################## 

SceneFileExtension= *.ma;*.mb
AllowImageNameChange= 0
AllowImageDirChange= 1
SequenceDivide= 0~1




################################## Client Settings ################################## 
TexReplaceFormat= .ma ~ Char ~ AlwaysForward
TexReplaceFormat= .mb ~ FOR4 ~ AlwaysForward

licenseFailLine=  could not get a license

errorSearchLine=  

permanentErrorSearchLine = Unknown Maya file version


::include(3D00__3D_global.inc)
::include(<ConfigFileName>__inhouse.inc)