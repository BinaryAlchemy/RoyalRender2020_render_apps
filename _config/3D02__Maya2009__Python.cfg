# config file format version 8.0
#
# Author: Royal Render, Holger Schoenberger, Binary Alchemy
#
# Last change: %rrVersion%
#
# This render config executes a PYTHON script with Maya.
# Important: RR itself uses its default render script to open the scene file and change the layer, camera, cross OS conversion, ..
# It uses the variable "CustomScript" for the name of the script file.
# Custom variables can be either set with the button in the rrSubmitter, top right,
# via an submission xml file, 
# via the rrSubmitter(console) commandline -CustomScript "//fileserver/share/myscriptfile.py"
# or with an on-submission script.
#
# # Hint: If you use some scripts very often, we recommend to override the icon for rrControl as well.
#       The icon has to be a png, 14 pixel high and 14-28 pixel wide, located in RR\render_apps\_config\
#       XML submission: <OverrideIcon> NoPathFileName.png </OverrideIcon>
#       Commandline:    -OverrideIcon  NoPathFileName.png 
#
#
################################## Identify Render Application ################################## 
Name= Maya
rendererName= Python
RendererLicense= 
Version=2009
Type=3D
Type=Execute
ExecuteJobType=Once


##################################  [Windows] [Linux] [OSX]  ##################################

CommandLine= 	<rrBin64>rrKillWait 1 senddmp

CommandLine= <envFileExecute <rrEnvFile>> 

CommandLine=<rrEnvLine>

CommandLine=
	<SetEnvGlobal>

CommandLine=
	<SetEnvSoft>
	
CommandLine=
	<ResetExitCode> 

CommandLine=
	::win <Contains(<Exe>, mayaIO) "<Exe><ED>mayaIO.exe" -batch ? "<Exe><ED>mayabatch.exe">
	::lx  <Contains(<Exe>, mayaIO) "<Exe><ED>mayaIO" -batch ? "<Exe><ED>maya" -batch>
	::osx <Contains(<Exe>, mayaIO) "<Exe><ED>mayaIO" -batch ? "<Exe><ED>maya" -batch>
	::win -command "<ESC source "<PD/<rrLocalRenderScripts>>kso_maya.mel"; rrStartWrapper("<PD/<rrLocalRenderScripts><EL<PD>>>", " 
	::lx  -command '     source "<PD/<rrLocalRenderScripts>>kso_maya.mel"; rrStartWrapper("<PD/<rrLocalRenderScripts><EL<PD>>>", " 
	::osx -command '     source "<PD/<rrLocalRenderScripts>>kso_maya.mel"; rrStartWrapper("<PD/<rrLocalRenderScripts><EL<PD>>>", " 
#	PyModPath: <PD/<rrLocalRenderScripts><EL<PD>>>,
	SName: <PD/<Scene>>,
	Db: <PD/<Database>>,
	<Layer Layer: <Layer>, >
	<Camera Camera: <Camera>, >
	FDir:  <PD/<ImageDir><EL<PD>>> ,
	FName: <PD/<ESC_XML <ImageFilenameVariables>><EL.><EL<PNL>>>  ,
	FNameNoVar: <PD/<ImageFilename>>  ,
	FPadding: <ImageFramePadding>,
	FExt: <ImageExtension>,
#	FExtOverride: <ImageExtension>,
	<OverrideImageFormat FOverrideFormat: <OverrideImageFormat>, >
	<ImageSingleOutputFile FSingleOutput: true, >
	FrStart: <SeqStart>,
	FrEnd: <SeqEnd>,
	FrStep: <SeqStep> ,
	FrOffset: <FileOffset> ,
    sceneOS: <sceneOS> , 
	<CustomAAseed AAseed: <CustomAAseed> ,>
	RenderDemo: False, 
	<CPU Threads:  <CPU>, >
	<CODisableDisplace RenderDisplace: false,>
	<CODisableMotionBlur RenderMotionBlur: false,>
	<verboseLevel>
	<renderQuality>
	<AdditionalCommandlineParam>
	<ClientConfigParam>
	KSOMode: false,
	customScriptFile: <PD/<CustomScriptFile>> <PD/<CustomScript>>,	
    <COnoEvaluationManager noEvaluationManager: True, >
    <COnoIncludeAllLights noIncludeAllLights: True, >
    <CONoPerFrameLoop noFrameLoop: True,>
	::win ")> "	
	::lx  ") '	
	::osx ") '	

	


CommandLine=
	<CheckExitCode> <FN>




#################################################
# KSO settings
KSO_Type= TCP

KSO_NewFrame= ksoRenderFrame (<SeqStart>, <SeqEnd>, <SeqStep> )

KSO_Close= ksoQuit()

KSOlog_AppStarted= Scene init done, starting to render

KSOlog_Running= rrKSO server started

KSOlog_FrameDone= rrKSO Frame(s) done

KSOlog_Quit=rrKSO closed





################################## Render Settings ################################## 

CODisableMotionBlur= 1 ~ 0 
CODisableDisplace= 1 ~ 0 
COnoEvaluationManager= 1 ~ 0
COnoIncludeAllLights= 1 ~ 0

FlagsVerbose0= Verbose: 0,
FlagsVerbose1= Verbose: 0,
FlagsVerbose2= Verbose: 0,
FlagsVerbose3= Verbose: 1,
FlagsVerbose4= Verbose: 2,

FlagsRegion= RegionX1: <X1 <X1> ?0> ,  RegionX2: <X2 <X2> ? <Width>>, RegionY1: <Y1 <Y1> ? 0 >, RegionY2: <Y2 <Y2> ? <Height>>,

ImageSizeCommandline= ResX: <Width>, ResY: <Height>,



################################## Submitter Settings ################################## 

SceneFileExtension= *.ma;*.mb
AllowImageNameChange= 1
AllowImageDirChange= 1
SequenceDivide= 0~1
AllowLocalSceneCopy= 1~0

ImageTypes= Deep EXR~ deepexr ~ exr
ImageTypes= EXR ~ exr ~ exr
ImageTypes= Jpeg ~ jpeg ~ jpeg
ImageTypes= Maya ~ maya ~ maya
ImageTypes= Png ~ png ~ png
ImageTypes= Tiff ~ tif ~ tif


################################## Submitter + Client Settings ################################## 

::include(3D02__Maya____global_kso.inc)

IconRenderer=E02__Python.png

licenseFailLine=  abort_on_license_fail enabled
licenseFailLine=  aborting render because the abort_on_license_fail option

::include(<ConfigFileName>__inhouse.inc)
